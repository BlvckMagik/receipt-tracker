# Railway Persistence Configuration

## Проблема
Після перезбірки проєкту на Railway чеки зникають, бо база даних SQLite зберігається всередині контейнера.

## Рішення
1. Додати персистентний volume для збереження даних
2. Використовувати директорію `/data` для бази даних

## Налаштування на Railway

### 1. Додати Volume
1. Відкрийте ваш проєкт на Railway
2. Перейдіть до вкладки "Volumes"
3. Натисніть "New Volume"
4. Назвіть volume (наприклад, `receipt-data`)
5. Використайте шлях `/data`

### 2. Змінні оточення (опціонально)
Якщо потрібно використовувати інший шлях, додайте змінну оточення:
- `DATA_DIR` - шлях до директорії з базою даних (за замовчуванням: `/data` або `./data`)
- `UPLOAD_DIR` - шлях до директорії для завантажених файлів (за замовчуванням: `$DATA_DIR/uploads`)

### 3. Деплой
1. Закомітьте зміни:
   ```bash
   git add .
   git commit -m "Add persistent storage support"
   git push
   ```
2. Railway автоматично перезбере проєкт з новими налаштуваннями

## Перевірка
Після деплою:
1. Завантажте кілька чеків
2. Перезапустіть сервіс або зробіть redeploy
3. Перевірте, що чеки залишились

## Структура даних
```
/data/
  ├── app.db          # SQLite база даних
  └── uploads/        # Завантажені зображення чеків
```
